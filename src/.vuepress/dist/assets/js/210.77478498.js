(window.webpackJsonp=window.webpackJsonp||[]).push([[210],{514:function(e,a,n){"use strict";n.r(a);var s=n(11),t=Object(s.a)({},(function(){var e=this,a=e._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"next-value-❇️"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#next-value-❇️"}},[e._v("#")]),e._v(" next_value ❇️")]),e._v(" "),a("p",[e._v("La función "),a("code",[e._v("next_value")]),e._v(" es una función de ventana que devuelve el valor del siguiente registro del rango.")]),e._v(" "),a("p",[e._v("Requiere la cláusula "),a("code",[e._v("ORDER BY")]),e._v(" en la partición "),a("code",[e._v("OVER")]),e._v(".")]),e._v(" "),a("p",[e._v("Se puede usar tanto la sintaxis "),a("code",[e._v("OVER")]),e._v(" del SQL estándar como la sintaxis compacta propia de Crono.")]),e._v(" "),a("h2",{attrs:{id:"ejemplo"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ejemplo"}},[e._v("#")]),e._v(" Ejemplo")]),e._v(" "),a("p",[e._v("La siguiente consulta devuelve las ventas de cada mes y las ventas en el mes siguiente.")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("select \n  year(fecha) anyo, \n  month(fecha) mes,\n  sum(unidades) ventas,\n  next_value(ventas) over (order by anyo,mes) nextValue,\nfrom dbo.lb_ventas\ngroup by all\n")])])]),a("p",[e._v("La misma consulta se puede construir con la sintaxis compacta del "),a("code",[e._v("OVER")]),e._v(":")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("select \n  year(fecha) anyo, \n  month(fecha) mes,\n  sum(unidades) ventas,\n  next_value(ventas order by anyo,mes) nextValue,\nfrom dbo.lb_ventas\ngroup by all\n")])])]),a("p",[e._v("La consulta SQL generada en ambos casos es:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("\nSELECT\n  year(fecha) AS anyo,\n  month(fecha) AS mes,\n  sum(unidades) AS ventas,\n  max(sum(unidades)) OVER (ORDER BY year(fecha),month(fecha) ROWS BETWEEN 1 FOLLOWING AND 1 FOLLOWING) AS nextValue\nFROM dbo.lb_ventas\nGROUP BY\n  year(fecha),\n  month(fecha)\n")])])])])}),[],!1,null,null,null);a.default=t.exports}}]);