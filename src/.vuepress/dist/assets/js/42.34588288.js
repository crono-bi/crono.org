(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{347:function(e,a,s){"use strict";s.r(a);var r=s(11),o=Object(r.a)({},(function(){var e=this,a=e._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"propiedades-de-relacion"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#propiedades-de-relacion"}},[e._v("#")]),e._v(" Propiedades de relación")]),e._v(" "),a("p",[e._v("Desde el menú contextual de una relación del diagrama podemos acceder a sus propiedades:")]),e._v(" "),a("p",[a("img",{attrs:{src:"/images/propiedades-relacion1.png",alt:"image-20200303115203654"}})]),e._v(" "),a("p",[e._v("Las relaciones (o "),a("code",[e._v("JOINs")]),e._v(") sirven para combinar las filas entre dos tablas. Existen dos tipos principales:")]),e._v(" "),a("ul",[a("li",[a("strong",[e._v("INNER JOIN")]),e._v(": Devuelve las filas de la izquierda que tienen correspondencia en la tabla derecha")]),e._v(" "),a("li",[a("strong",[e._v("LEFT JOIN")]),e._v(": Devuelve todas las filas de la izquierda, tengan o no tengan correspondencia en la tabla derecha.")])]),e._v(" "),a("p",[e._v("Definir correctamente las relaciones del diagrama es fundamental para el correcto funcionamiento del catálogo. Por ello es recomendable seguir estas prácticas siempre que sea posible:")]),e._v(" "),a("ul",[a("li",[e._v("Las relaciones deben ser entre la clave primaria de una tabla (PK) y la clave foránea de la otra (FK). Es decir, las relaciones (constraints) deben estar definidas en la base de datos.")]),e._v(" "),a("li",[e._v("Utilizar una relación "),a("strong",[e._v("LEFT JOIN")]),e._v(" si los campos clave de la tabla de detalle admiten nulo.")])]),e._v(" "),a("p",[e._v("Si se siguen estas dos recomendaciones la relación nunca perderá ni duplicará registros. Es decir, por ejemplo, cada venta tendrá asociada una fecha (y solo una), una tienda (y solo una) y un libro (y solo uno).")]),e._v(" "),a("p",[e._v("Por lo tanto:")]),e._v(" "),a("ul",[a("li",[e._v("Si cada venta debe estar asociada a una tienda, el campo "),a("code",[e._v("ID_TIENDA")]),e._v("no debe admitir nulos (debe ser "),a("code",[e._v("NOT NULL")]),e._v(") y se debe emplear la relación "),a("code",[e._v("**INNER JOIN**.")])]),e._v(" "),a("li",[e._v("Si, en cambio, el modelo de negocio admitiera ventas sin libros, entonces el campo "),a("code",[e._v("ID_LIBRO")]),e._v(" debe ser nulable y se debe emplear un "),a("code",[e._v("**LEFT JOIN**")]),e._v(".")])]),e._v(" "),a("p",[e._v("Si el modelo definido en "),a("strong",[e._v("Crono Metadata")]),e._v(" coincide con el modelo físico de la base de datos evitaremos que el usuario de negocio termine obteniendo información errónea.")]),e._v(" "),a("p",[e._v("De todos modos, conviene destacar que "),a("strong",[e._v("Crono Metadata")]),e._v(" no exige la existencia de las restricciones "),a("code",[e._v("NULL")]),e._v(" o "),a("code",[e._v("NOT NULL")]),e._v(". Tampoco exige que las tablas tengan claves primarias y/o claves foráneas. Se trata, simplemente, de recomendaciones y buenas prácticas que deberían seguirse al diseñar el modelo de datos.")]),e._v(" "),a("p",[a("img",{attrs:{src:"/images/propiedades-relacion2.png",alt:"image-20200303122224651"}})]),e._v(" "),a("h2",{attrs:{id:"verificar-relaciones"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#verificar-relaciones"}},[e._v("#")]),e._v(" Verificar relaciones")]),e._v(" "),a("p",[e._v("La ventana de propiedades de relación tiene un botón para validar la relación. Esta funcionalidad permite comprobar si se pierden o duplican registros.")]),e._v(" "),a("h2",{attrs:{id:"diagrama"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#diagrama"}},[e._v("#")]),e._v(" Diagrama")]),e._v(" "),a("p",[e._v("El color y la forma de la relaciona del diagrama muestra algunas características importantes de la relación.")]),e._v(" "),a("ul",[a("li",[e._v("Las relaciones "),a("strong",[e._v("LEFT JOIN")]),e._v(" se muestran con líneas discontinuas")]),e._v(" "),a("li",[e._v("Las relaciones que no están verificadas se muestran de color negro")]),e._v(" "),a("li",[e._v("Las relaciones que están verificadas se muestran de color verde")]),e._v(" "),a("li",[e._v("Las relaciones que tienen restricciones PK-FK son gruesas (y son siempre de color verde)")]),e._v(" "),a("li",[e._v("Las relaciones "),a("strong",[e._v("INNER JOIN")]),e._v(", con PK-FK, pero que admiten nulos se señalan de color verde oscuro (como advertencia que pueden perderse registros)")])]),e._v(" "),a("p",[a("img",{attrs:{src:"/images/propiedades-relacion3.png",alt:"image-20200303123212270"}})])])}),[],!1,null,null,null);a.default=o.exports}}]);