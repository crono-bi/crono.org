(window.webpackJsonp=window.webpackJsonp||[]).push([[323],{629:function(s,t,a){"use strict";a.r(t);var n=a(11),e=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"sentencia-select-❤️"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#sentencia-select-❤️"}},[s._v("#")]),s._v(" Sentencia SELECT ❤️")]),s._v(" "),t("p",[s._v("En esta sección se documenta el funcionamiento de la sentencia "),t("strong",[s._v("SELECT")]),s._v(" del lenguaje. La sintaxis "),t("strong",[s._v("SELECT")]),s._v(" de "),t("strong",[s._v("Crono SQL")]),s._v(" aporta algunas ventajas (algunas importantes) frente al SQL ISO. Sin embargo, el mayor beneficio del lenguaje se manifiesta en el resto de instrucciones DML ("),t("strong",[s._v("INSERT")]),s._v(", "),t("strong",[s._v("UPDATE")]),s._v(", "),t("strong",[s._v("MERGE")]),s._v(", …), donde Crono SQL automatiza toda la lógica de carga. Por eso la sentencia "),t("strong",[s._v("SELECT")]),s._v(" es tan importante… ¡Es prácticamente lo único que tendrá que codificar el desarrollador de un proyecto  ETL/DWH!")]),s._v(" "),t("p",[s._v("A continuación se describen sistemáticamente todas las características soportadas en la sentencia "),t("strong",[s._v("SELECT")]),s._v(" del lenguaje "),t("strong",[s._v("Crono SQL")]),s._v(".")]),s._v(" "),t("h2",{attrs:{id:"basado-en-el-lenguaje-sql"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#basado-en-el-lenguaje-sql"}},[s._v("#")]),s._v(" Basado en el lenguaje SQL")]),s._v(" "),t("p",[t("strong",[s._v("Proposición:")]),s._v(" Cuualquier sentencia "),t("strong",[s._v("SELECT")]),s._v(" válida en SQL es válida también en "),t("strong",[s._v("Crono SQL")])]),s._v(" "),t("div",{staticClass:"mt-1 mb-2 row"},[t("div",{staticClass:"col-lg-12"},[t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Hola mundo'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),s._v(" "),t("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-1",modifiers:{"modal-1":!0}}],staticClass:"float-right btn",staticStyle:{"background-color":"#3eaf7c"},attrs:{size:"sm"}},[s._v("Ver SQL compilado")]),s._v(" "),t("b-modal",{attrs:{id:"modal-1",size:"lg",title:"Ver SQL compilado","hide-footer":!0}},[t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Hola mundo'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" expr1\n")])])])])],1)]),s._v(" "),t("p",[s._v('Si ninguna tabla participa en la consulta, se debe terminar la sentencia con el carácter punto y coma ";". En cualquier otro caso, el punto y coma es opcional.')]),s._v(" "),t("div",{staticClass:"mt-1 mb-2 row"},[t("div",{staticClass:"col-lg-12"},[t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Customer\n")])])]),s._v(" "),t("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-2",modifiers:{"modal-2":!0}}],staticClass:"float-right btn",staticStyle:{"background-color":"#3eaf7c"},attrs:{size:"sm"}},[s._v("Ver SQL compilado")]),s._v(" "),t("b-modal",{attrs:{id:"modal-2",size:"lg",title:"Ver SQL compilado","hide-footer":!0}},[t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Customer\n\n")])])])])],1)]),s._v(" "),t("p",[s._v("Se pueden incluir las cláusulas "),t("strong",[s._v("JOIN")]),s._v(", "),t("strong",[s._v("WHERE")]),s._v(", "),t("strong",[s._v("GROUP BY")]),s._v(", "),t("strong",[s._v("HAVING")]),s._v(" y/o "),t("strong",[s._v("ORDER BY")])]),s._v(" "),t("div",{staticClass:"mt-1 mb-2 row"},[t("div",{staticClass:"col-lg-12"},[t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n  Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("CustomerId "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" CustomerId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  Person"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FirstName "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" FirstName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  Person"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" LastName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sum")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("subtotal"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" Amount\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("SalesOrderHeader Sales\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INNER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Customer "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("customerId"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("customerId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LEFT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Person "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("PersonID"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("Person"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("BusinessEntityId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" Person"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FirstName"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Fernando'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GROUP")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v("\n  Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("CustomerId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  Person"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FirstName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  Person"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("HAVING")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sum")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("subtotal"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3000")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ORDER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sum")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("subtotal"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DESC")]),s._v("\n")])])]),s._v(" "),t("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-3",modifiers:{"modal-3":!0}}],staticClass:"float-right btn",staticStyle:{"background-color":"#3eaf7c"},attrs:{size:"sm"}},[s._v("Ver SQL compilado")]),s._v(" "),t("b-modal",{attrs:{id:"modal-3",size:"lg",title:"Ver SQL compilado","hide-footer":!0}},[t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n  Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("CustomerId "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" CustomerId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  Person"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FirstName "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" FirstName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  Person"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" LastName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sum")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("subtotal"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" Amount\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("SalesOrderHeader Sales\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INNER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Customer "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("customerId"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("customerId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LEFT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Person "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("PersonID"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("Person"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("BusinessEntityId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" Person"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FirstName"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Fernando'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GROUP")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v("\n  Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("CustomerId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  Person"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FirstName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  Person"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("HAVING")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sum")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("subtotal"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3000")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ORDER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sum")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("subtotal"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DESC")]),s._v("\n\n")])])])])],1)]),s._v(" "),t("p",[s._v("Se pueden utilizar las funciones propias del motor de base de datos o funciones definidas por el usuario.")]),s._v(" "),t("div",{staticClass:"mt-1 mb-2 row"},[t("div",{staticClass:"col-lg-12"},[t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("year")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("OrderDate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" OrderYear"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("CustomerId "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" CustomerId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  concat"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FirstName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("' '")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FirstName "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" FirstName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" LastName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sum")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("subtotal"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" Amount\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("SalesOrderHeader sales\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INNER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("customer "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("customerId"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("customerId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LEFT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Person CustomerPerson "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("PersonID"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("BusinessEntityId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("year")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("OrderDate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2012")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GROUP")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("year")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("OrderDate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("CustomerId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  concat"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FirstName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("' '")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FirstName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName\n")])])]),s._v(" "),t("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-4",modifiers:{"modal-4":!0}}],staticClass:"float-right btn",staticStyle:{"background-color":"#3eaf7c"},attrs:{size:"sm"}},[s._v("Ver SQL compilado")]),s._v(" "),t("b-modal",{attrs:{id:"modal-4",size:"lg",title:"Ver SQL compilado","hide-footer":!0}},[t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("year")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("OrderDate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" OrderYear"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("CustomerId "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" CustomerId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  concat"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FirstName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("' '")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FirstName "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" FirstName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" LastName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sum")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("subtotal"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" Amount\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("SalesOrderHeader sales\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INNER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("customer "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("customerId"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("customerId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LEFT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Person CustomerPerson "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("PersonID"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("BusinessEntityId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("year")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("OrderDate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2012")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GROUP")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("year")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("OrderDate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("CustomerId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  concat"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FirstName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("' '")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FirstName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName\n\n")])])])])],1)]),s._v(" "),t("h2",{attrs:{id:"referencia-a-columnas-existentes"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#referencia-a-columnas-existentes"}},[s._v("#")]),s._v(" Referencia a columnas existentes")]),s._v(" "),t("p",[s._v("A diferencia del SQL ISO, en "),t("strong",[s._v("Crono SQL")]),s._v(" se puede hacer referencia a otra columna de la sentencia SELECT mediante el Alias de la columna.")]),s._v(" "),t("div",{staticClass:"mt-1 mb-2 row"},[t("div",{staticClass:"col-lg-12"},[t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("year")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("OrderDate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" OrderYear"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("CustomerId "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" CustomerId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  concat"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FirstName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("' '")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  upper"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" UpperCustomer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FirstName "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" FirstName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" LastName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sum")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("subtotal"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" Amount\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("SalesOrderHeader sales\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INNER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("customer "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("CustomerId"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("CustomerId\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LEFT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Person CustomerPerson "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("PersonID"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("BusinessEntityId\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" OrderYear"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2012")]),s._v("\n")])])]),s._v(" "),t("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-5",modifiers:{"modal-5":!0}}],staticClass:"float-right btn",staticStyle:{"background-color":"#3eaf7c"},attrs:{size:"sm"}},[s._v("Ver SQL compilado")]),s._v(" "),t("b-modal",{attrs:{id:"modal-5",size:"lg",title:"Ver SQL compilado","hide-footer":!0}},[t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("year")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("OrderDate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" OrderYear"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("CustomerId "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" CustomerId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  concat"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FirstName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("' '")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  upper"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("concat"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FirstName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("' '")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" UpperCustomer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FirstName "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" FirstName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" LastName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sum")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("subtotal"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" Amount\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("SalesOrderHeader sales\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INNER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("customer "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("CustomerId"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("CustomerId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LEFT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Person CustomerPerson "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("PersonID"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("BusinessEntityId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("year")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("OrderDate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2012")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GROUP")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("year")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("OrderDate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("CustomerId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  concat"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FirstName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("' '")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  upper"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("concat"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FirstName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("' '")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FirstName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName\n\n")])])])])],1)]),s._v(" "),t("h2",{attrs:{id:"prescindiendo-del-group-by"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#prescindiendo-del-group-by"}},[s._v("#")]),s._v(" Prescindiendo del GROUP BY")]),s._v(" "),t("p",[s._v("Se puede utilizar la cláusula "),t("strong",[s._v("GROUP BY ALL")]),s._v(" para indicar que se agrupe por todas las columnas que no sean funciones de agregación.")]),s._v(" "),t("div",{staticClass:"mt-1 mb-2 row"},[t("div",{staticClass:"col-lg-12"},[t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("year")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("OrderDate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" OrderYear"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("CustomerId "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" CustomerId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  concat"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FirstName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("' '")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FirstName "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" FirstName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" LastName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sum")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("subtotal"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" Amount\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("SalesOrderHeader sales\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INNER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("customer "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("customerId"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("customerId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LEFT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Person CustomerPerson "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("PersonID"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("BusinessEntityId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("year")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("OrderDate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2012")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GROUP")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ALL")]),s._v("\n")])])]),s._v(" "),t("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-6",modifiers:{"modal-6":!0}}],staticClass:"float-right btn",staticStyle:{"background-color":"#3eaf7c"},attrs:{size:"sm"}},[s._v("Ver SQL compilado")]),s._v(" "),t("b-modal",{attrs:{id:"modal-6",size:"lg",title:"Ver SQL compilado","hide-footer":!0}},[t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("year")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("OrderDate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" OrderYear"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("CustomerId "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" CustomerId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  concat"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FirstName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("' '")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FirstName "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" FirstName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" LastName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sum")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("subtotal"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" Amount\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("SalesOrderHeader sales\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INNER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("customer "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("customerId"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("customerId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LEFT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Person CustomerPerson "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("PersonID"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("BusinessEntityId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("year")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("OrderDate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2012")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GROUP")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("year")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("OrderDate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("CustomerId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  concat"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FirstName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("' '")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FirstName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName\n\n")])])])])],1)]),s._v(" "),t("p",[s._v("Siempre se puede prescindir totalmente de la cláusula "),t("strong",[s._v("GROUP BY")]),s._v(". "),t("strong",[s._v("Crono SQL")]),s._v(" incluirá las columnas necesarias en el SQL generado.")]),s._v(" "),t("div",{staticClass:"mt-1 mb-2 row"},[t("div",{staticClass:"col-lg-12"},[t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("year")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("OrderDate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" OrderYear"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("CustomerId "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" CustomerId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  concat"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FirstName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("' '")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FirstName "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" FirstName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" LastName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sum")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("subtotal"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" Amount\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("SalesOrderHeader sales\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INNER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("customer "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("customerId"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("customerId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LEFT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Person CustomerPerson "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("PersonID"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("BusinessEntityId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("year")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("OrderDate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2012")]),s._v("\n")])])]),s._v(" "),t("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-7",modifiers:{"modal-7":!0}}],staticClass:"float-right btn",staticStyle:{"background-color":"#3eaf7c"},attrs:{size:"sm"}},[s._v("Ver SQL compilado")]),s._v(" "),t("b-modal",{attrs:{id:"modal-7",size:"lg",title:"Ver SQL compilado","hide-footer":!0}},[t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("year")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("OrderDate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" OrderYear"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("CustomerId "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" CustomerId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  concat"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FirstName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("' '")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FirstName "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" FirstName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" LastName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sum")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("subtotal"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" Amount\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("SalesOrderHeader sales\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INNER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("customer "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("customerId"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("customerId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LEFT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Person CustomerPerson "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("PersonID"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("BusinessEntityId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("year")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("OrderDate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2012")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GROUP")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("year")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("OrderDate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("CustomerId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  concat"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FirstName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("' '")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FirstName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName\n\n")])])])])],1)]),s._v(" "),t("h2",{attrs:{id:"using"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#using"}},[s._v("#")]),s._v(" USING")]),s._v(" "),t("p",[s._v("Se puede utilizar la cláusula "),t("strong",[s._v("USING")]),s._v("  para simplificar la sintaxis de los JOIN equi-join.")]),s._v(" "),t("div",{staticClass:"mt-1 mb-2 row"},[t("div",{staticClass:"col-lg-12"},[t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("year")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("OrderDate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" OrderYear"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("CustomerId "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" CustomerId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  concat"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FirstName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("' '")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FirstName "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" FirstName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" LastName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sum")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("subtotal"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" Amount\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("SalesOrderHeader sales\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INNER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("customer "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("USING")]),s._v(" Sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CustomerId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LEFT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Person CustomerPerson "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("PersonID"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("BusinessEntityId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("year")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("OrderDate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2012")]),s._v("\n")])])]),s._v(" "),t("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-8",modifiers:{"modal-8":!0}}],staticClass:"float-right btn",staticStyle:{"background-color":"#3eaf7c"},attrs:{size:"sm"}},[s._v("Ver SQL compilado")]),s._v(" "),t("b-modal",{attrs:{id:"modal-8",size:"lg",title:"Ver SQL compilado","hide-footer":!0}},[t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("year")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("OrderDate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" OrderYear"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("CustomerId "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" CustomerId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  concat"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FirstName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("' '")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FirstName "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" FirstName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" LastName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sum")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("subtotal"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" Amount\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("SalesOrderHeader sales\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INNER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("customer "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("CustomerId"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("CustomerId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LEFT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Person CustomerPerson "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("PersonID"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("BusinessEntityId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("year")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("OrderDate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2012")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GROUP")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("year")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("OrderDate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("CustomerId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  concat"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FirstName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("' '")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FirstName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName\n\n")])])])])],1)]),s._v(" "),t("p",[s._v("La cláusula "),t("strong",[s._v("USING")]),s._v(" también puede utilizarse cuando los campos de la equi-join tienen distinto nombre.")]),s._v(" "),t("div",{staticClass:"mt-1 mb-2 row"},[t("div",{staticClass:"col-lg-12"},[t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("year")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("OrderDate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" OrderYear"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("CustomerId "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" CustomerId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  concat"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FirstName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("' '")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FirstName "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" FirstName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" LastName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sum")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("subtotal"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" Amount\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("SalesOrderHeader sales\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INNER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("customer "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("USING")]),s._v(" Sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CustomerId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LEFT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Person CustomerPerson "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("USING")]),s._v(" Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("PersonID BusinessEntityId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("year")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("OrderDate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2012")]),s._v("\n")])])]),s._v(" "),t("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-9",modifiers:{"modal-9":!0}}],staticClass:"float-right btn",staticStyle:{"background-color":"#3eaf7c"},attrs:{size:"sm"}},[s._v("Ver SQL compilado")]),s._v(" "),t("b-modal",{attrs:{id:"modal-9",size:"lg",title:"Ver SQL compilado","hide-footer":!0}},[t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("year")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("OrderDate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" OrderYear"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("CustomerId "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" CustomerId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  concat"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FirstName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("' '")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FirstName "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" FirstName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" LastName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sum")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("subtotal"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" Amount\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("SalesOrderHeader sales\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INNER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("customer "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("CustomerId"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("CustomerId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LEFT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Person CustomerPerson "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("PersonID"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("BusinessEntityId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("year")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("OrderDate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2012")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GROUP")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("year")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("OrderDate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("CustomerId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  concat"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FirstName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("' '")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FirstName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName\n\n")])])])])],1)]),s._v(" "),t("p",[s._v("Si no se especifica el nombre de la tabla izquierda en la cláusula "),t("strong",[s._v("USING")]),s._v(", se asume que es la tabla del "),t("strong",[s._v("FROM")]),s._v(" es la que participa en la relación.")]),s._v(" "),t("div",{staticClass:"mt-1 mb-2 row"},[t("div",{staticClass:"col-lg-12"},[t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("year")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("OrderDate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" OrderYear"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("CustomerId "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" CustomerId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  concat"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FirstName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("' '")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FirstName "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" FirstName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" LastName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sum")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("subtotal"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" Amount\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("SalesOrderHeader sales\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INNER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("customer "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("USING")]),s._v(" CustomerId\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LEFT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Person CustomerPerson "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("USING")]),s._v(" Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("PersonID BusinessEntityId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("year")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("OrderDate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2012")]),s._v("\n")])])]),s._v(" "),t("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-10",modifiers:{"modal-10":!0}}],staticClass:"float-right btn",staticStyle:{"background-color":"#3eaf7c"},attrs:{size:"sm"}},[s._v("Ver SQL compilado")]),s._v(" "),t("b-modal",{attrs:{id:"modal-10",size:"lg",title:"Ver SQL compilado","hide-footer":!0}},[t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("year")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("OrderDate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" OrderYear"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("CustomerId "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" CustomerId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  concat"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FirstName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("' '")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FirstName "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" FirstName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" LastName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sum")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("subtotal"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" Amount\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("SalesOrderHeader sales\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INNER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("customer "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("CustomerId"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("CustomerId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LEFT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Person CustomerPerson "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("PersonID"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("BusinessEntityId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("year")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("OrderDate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2012")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GROUP")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("year")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("OrderDate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("CustomerId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  concat"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FirstName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("' '")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FirstName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName\n\n")])])])])],1)]),s._v(" "),t("p",[s._v("Si la relación equi-join está formada por distintos campos, se pueden especificar en la cláusula "),t("strong",[s._v("USING")]),s._v(" separados por comas.")]),s._v(" "),t("div",{staticClass:"mt-1 mb-2 row"},[t("div",{staticClass:"col-lg-12"},[t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("count")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("SalesOrderHeader sales\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INNER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("customer "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("USING")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CompanyId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("CustomerId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LEFT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Person CustomerPerson "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("USING")]),s._v(" customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CompanyId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("PersonID BusinessEntityId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("year")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("OrderDate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2012")]),s._v("\n")])])]),s._v(" "),t("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-11",modifiers:{"modal-11":!0}}],staticClass:"float-right btn",staticStyle:{"background-color":"#3eaf7c"},attrs:{size:"sm"}},[s._v("Ver SQL compilado")]),s._v(" "),t("b-modal",{attrs:{id:"modal-11",size:"lg",title:"Ver SQL compilado","hide-footer":!0}},[t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("count")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" expr1\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("SalesOrderHeader sales\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INNER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("customer "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("CompanyId"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("CompanyId "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("AND")]),s._v(" sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("CustomerId"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("CustomerId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LEFT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Person CustomerPerson "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("CompanyId"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("CompanyId "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("AND")]),s._v(" customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("PersonID"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("BusinessEntityId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("year")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("OrderDate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2012")]),s._v("\n\n")])])])])],1)]),s._v(" "),t("h2",{attrs:{id:"check-snowflake"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#check-snowflake"}},[s._v("#")]),s._v(" CHECK SNOWFLAKE")]),s._v(" "),t("p",[s._v("La cláusula "),t("strong",[s._v("CHECK SNOWFLAKE")]),s._v(", colocada justo después de todos los "),t("strong",[s._v("JOINs")]),s._v(", verifica que las relaciones no pierden ni duplican ningún registro de la tabla del "),t("strong",[s._v("FROM")]),s._v(". Se trata de una comprobación fundamental para validar que no estamos cometiendo ninguna equivocación al escribir la consulta y que los datos de origen son coherentes con lo esperado.")]),s._v(" "),t("div",{staticClass:"mt-1 mb-2 row"},[t("div",{staticClass:"col-lg-12"},[t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("year")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("OrderDate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" OrderYear"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("CustomerId "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" CustomerId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  concat"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FirstName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("' '")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FirstName "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" FirstName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" LastName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sum")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("subtotal"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" Amount\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("SalesOrderHeader sales\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INNER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("customer "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("USING")]),s._v(" CustomerId\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INNER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Person CustomerPerson "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("USING")]),s._v(" Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("PersonID BusinessEntityId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CHECK")]),s._v(" SNOWFLAKE\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("year")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("OrderDate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2012")]),s._v("\n")])])]),s._v(" "),t("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-12",modifiers:{"modal-12":!0}}],staticClass:"float-right btn",staticStyle:{"background-color":"#3eaf7c"},attrs:{size:"sm"}},[s._v("Ver SQL compilado")]),s._v(" "),t("b-modal",{attrs:{id:"modal-12",size:"lg",title:"Ver SQL compilado","hide-footer":!0}},[t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("IF")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("EXISTS")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("count")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("SalesOrderHeader sales\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LEFT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("customer "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("CustomerId"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("CustomerId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LEFT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Person CustomerPerson "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("PersonID"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("BusinessEntityId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("HAVING")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("count")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CASE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHEN")]),s._v(" customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("CustomerId "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("IS")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("NOT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("AND")]),s._v(" CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("BusinessEntityId "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("IS")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("NOT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("THEN")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("END")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<>")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("count")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("SalesOrderHeader sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" THROW "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("50001")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Las relaciones de esta consulta pierden o duplican registros de sales.'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("year")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("OrderDate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" OrderYear"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("CustomerId "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" CustomerId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  concat"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FirstName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("' '")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FirstName "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" FirstName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" LastName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sum")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("subtotal"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" Amount\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("SalesOrderHeader sales\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INNER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("customer "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("CustomerId"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("CustomerId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INNER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Person CustomerPerson "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("PersonID"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("BusinessEntityId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("year")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("OrderDate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2012")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GROUP")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("year")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("OrderDate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("CustomerId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  concat"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FirstName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("' '")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FirstName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName\n\n")])])])])],1)]),s._v(" "),t("p",[s._v("La cláusula "),t("strong",[s._v("CHECK SNOWFLAKE")]),s._v(" verifica que todas las ventas correspondan a un cliente y que ese cliente exista en la tabla de personas. Si no fuera así, la consulta no se ejecutaría y devolvería un error.")]),s._v(" "),t("h2",{attrs:{id:"subconsultas"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#subconsultas"}},[s._v("#")]),s._v(" Subconsultas")]),s._v(" "),t("p",[s._v("Se pueden incluir subconsultas.")]),s._v(" "),t("div",{staticClass:"mt-1 mb-2 row"},[t("div",{staticClass:"col-lg-12"},[t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" \n  Person"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("BusinessEntityId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  Person"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  HomeAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("AddressLine1 HomeAddressLine1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  HomeAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("AddressLine2 HomeAddressLine2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  HomeAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("City HomeCity"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  ShippingAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("AddressLine1 ShippingAddressLine1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  ShippingAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("AddressLine2 ShippingAddressLine2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  ShippingAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("City ShippingCity\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Person\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LEFT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("BusinessEntityAddress \n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" AddressTypeId"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" BEHomeAddress "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("using")]),s._v(" BusinessEntityId\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LEFT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("BusinessEntityAddress \n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" AddressTypeId"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" BEShippingAddress "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("using")]),s._v(" BusinessEntityId\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LEFT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Address HomeAddress "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("using")]),s._v(" BEHomeAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("AddressId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LEFT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Address ShippingAddress "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("using")]),s._v(" BEShippingAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("AddressId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])])]),s._v(" "),t("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-13",modifiers:{"modal-13":!0}}],staticClass:"float-right btn",staticStyle:{"background-color":"#3eaf7c"},attrs:{size:"sm"}},[s._v("Ver SQL compilado")]),s._v(" "),t("b-modal",{attrs:{id:"modal-13",size:"lg",title:"Ver SQL compilado","hide-footer":!0}},[t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n  Person"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("BusinessEntityId "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" BusinessEntityId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  Person"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" LastName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  HomeAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("AddressLine1 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" HomeAddressLine1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  HomeAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("AddressLine2 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" HomeAddressLine2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  HomeAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("City "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" HomeCity"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  ShippingAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("AddressLine1 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" ShippingAddressLine1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  ShippingAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("AddressLine2 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" ShippingAddressLine2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  ShippingAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("City "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" ShippingCity\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Person\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LEFT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("\n           "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("BusinessEntityAddress\n           "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" AddressTypeId"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" BEHomeAddress "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" Person"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("BusinessEntityId"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("BEHomeAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("BusinessEntityId\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LEFT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("\n           "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("BusinessEntityAddress\n           "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" AddressTypeId"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" BEShippingAddress "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" Person"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("BusinessEntityId"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("BEShippingAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("BusinessEntityId\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LEFT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Address HomeAddress "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("BEHomeAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("AddressId"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("HomeAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("AddressId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LEFT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Address ShippingAddress "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("BEShippingAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("AddressId"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("ShippingAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("AddressId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n")])])])])],1)]),s._v(" "),t("h2",{attrs:{id:"subconsultas-con-filter-y-columns"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#subconsultas-con-filter-y-columns"}},[s._v("#")]),s._v(" Subconsultas con FILTER y COLUMNS")]),s._v(" "),t("p",[s._v("Después del nombre de la tabla, se puede incluir la cláusula "),t("strong",[s._v("FILTER")]),s._v(" para seleccionar solo una parte de los registros de la tabla. El código SQL generado incluirá una subconsulta similar a la del Ejemplo anterior.")]),s._v(" "),t("div",{staticClass:"mt-1 mb-2 row"},[t("div",{staticClass:"col-lg-12"},[t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" \n  Person"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("BusinessEntityId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  Person"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("PersonType"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  Person"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  HomeAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("AddressLine1\tHomeAddressLine1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  HomeAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("AddressLine2\tHomeAddressLine2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  HomeAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("City\t\tHomeCity"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  ShippingAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("AddressLine1\tShippingAddressLine1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  ShippingAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("AddressLine2\tShippingAddressLine2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  ShippingAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("City\t\tShippingCity\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Person\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LEFT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("BusinessEntityAddress FILTER "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("AddressTypeId"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" BEHomeAddress "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("using")]),s._v(" BusinessEntityId\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LEFT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("BusinessEntityAddress FILTER "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("AddressTypeId"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" BEShippingAddress "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("using")]),s._v(" BusinessEntityId\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LEFT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Address HomeAddress "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("using")]),s._v(" BEHomeAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("AddressId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LEFT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Address ShippingAddress "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("using")]),s._v(" BEShippingAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("AddressId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])])]),s._v(" "),t("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-14",modifiers:{"modal-14":!0}}],staticClass:"float-right btn",staticStyle:{"background-color":"#3eaf7c"},attrs:{size:"sm"}},[s._v("Ver SQL compilado")]),s._v(" "),t("b-modal",{attrs:{id:"modal-14",size:"lg",title:"Ver SQL compilado","hide-footer":!0}},[t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n  Person"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("BusinessEntityId "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" BusinessEntityId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  Person"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("PersonType "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" PersonType"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  Person"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" LastName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  HomeAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("AddressLine1 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" HomeAddressLine1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  HomeAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("AddressLine2 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" HomeAddressLine2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  HomeAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("City "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" HomeCity"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  ShippingAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("AddressLine1 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" ShippingAddressLine1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  ShippingAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("AddressLine2 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" ShippingAddressLine2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  ShippingAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("City "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" ShippingCity\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Person\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LEFT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("BusinessEntityAddress "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" AddressTypeId"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" BEHomeAddress "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Person"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("BusinessEntityId"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("BEHomeAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("BusinessEntityId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LEFT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("BusinessEntityAddress "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" AddressTypeId"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" BEShippingAddress "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Person"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("BusinessEntityId"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("BEShippingAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("BusinessEntityId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LEFT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Address HomeAddress "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("BEHomeAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("AddressId"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("HomeAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("AddressId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LEFT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Address ShippingAddress "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("BEShippingAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("AddressId"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("ShippingAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("AddressId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n")])])])])],1)]),s._v(" "),t("p",[s._v("La cláusula "),t("strong",[s._v("FILTER")]),s._v(" es muy útil en combinación con la cláusula "),t("strong",[s._v("CHECK SNOWFLAKE")]),s._v(". En el siguiente ejemplo, se verifica que cada persona tenga una única "),t("em",[s._v("HomeAddress")]),s._v(" (o ninguna) y una única "),t("em",[s._v("ShippingAddress")]),s._v(" (o ninguna). Si no fuera así, la consulta no duplicaría los registros  porque devolvería previamente un error.")]),s._v(" "),t("div",{staticClass:"mt-1 mb-2 row"},[t("div",{staticClass:"col-lg-12"},[t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" \n  Person"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("BusinessEntityId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  Person"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("PersonType"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  Person"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  HomeAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("AddressLine1\tHomeAddressLine1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  HomeAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("AddressLine2\tHomeAddressLine2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  HomeAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("City\t\tHomeCity"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  ShippingAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("AddressLine1\tShippingAddressLine1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  ShippingAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("AddressLine2\tShippingAddressLine2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  ShippingAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("City\t\tShippingCity\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Person\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LEFT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("BusinessEntityAddress FILTER "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("AddressTypeId"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" BEHomeAddress "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("using")]),s._v(" BusinessEntityId\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LEFT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("BusinessEntityAddress FILTER "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("AddressTypeId"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" BEShippingAddress "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("using")]),s._v(" BusinessEntityId\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LEFT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Address HomeAddress "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("using")]),s._v(" BEHomeAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("AddressId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LEFT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Address ShippingAddress "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("using")]),s._v(" BEShippingAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("AddressId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CHECK")]),s._v(" SNOWFLAKE\n")])])]),s._v(" "),t("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-15",modifiers:{"modal-15":!0}}],staticClass:"float-right btn",staticStyle:{"background-color":"#3eaf7c"},attrs:{size:"sm"}},[s._v("Ver SQL compilado")]),s._v(" "),t("b-modal",{attrs:{id:"modal-15",size:"lg",title:"Ver SQL compilado","hide-footer":!0}},[t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("IF")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("EXISTS")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("count")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Person\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LEFT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("BusinessEntityAddress "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" AddressTypeId"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" BEHomeAddress "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Person"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("BusinessEntityId"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("BEHomeAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("BusinessEntityId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LEFT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("BusinessEntityAddress "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" AddressTypeId"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" BEShippingAddress "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Person"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("BusinessEntityId"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("BEShippingAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("BusinessEntityId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LEFT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Address HomeAddress "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("BEHomeAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("AddressId"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("HomeAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("AddressId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LEFT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Address ShippingAddress "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("BEShippingAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("AddressId"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("ShippingAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("AddressId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("HAVING")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("count")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<>")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("count")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Person"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" THROW "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("50001")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Las relaciones de esta consulta pierden o duplican registros de Person.'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n  Person"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("BusinessEntityId "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" BusinessEntityId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  Person"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("PersonType "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" PersonType"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  Person"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" LastName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  HomeAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("AddressLine1 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" HomeAddressLine1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  HomeAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("AddressLine2 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" HomeAddressLine2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  HomeAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("City "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" HomeCity"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  ShippingAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("AddressLine1 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" ShippingAddressLine1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  ShippingAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("AddressLine2 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" ShippingAddressLine2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  ShippingAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("City "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" ShippingCity\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Person\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LEFT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("BusinessEntityAddress "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" AddressTypeId"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" BEHomeAddress "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Person"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("BusinessEntityId"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("BEHomeAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("BusinessEntityId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LEFT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("BusinessEntityAddress "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" AddressTypeId"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" BEShippingAddress "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Person"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("BusinessEntityId"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("BEShippingAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("BusinessEntityId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LEFT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Address HomeAddress "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("BEHomeAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("AddressId"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("HomeAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("AddressId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LEFT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Address ShippingAddress "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("BEShippingAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("AddressId"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("ShippingAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("AddressId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n")])])])])],1)]),s._v(" "),t("p",[s._v("Se puede utilizar la cláusula "),t("strong",[s._v("COLUMNS")]),s._v(" para seleccionar, renombrar, u operar sobre las columnas físicas de la tabla. El código SQL generado incluirá una subconsulta con esas columnas.")]),s._v(" "),t("div",{staticClass:"mt-1 mb-2 row"},[t("div",{staticClass:"col-lg-12"},[t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" \n  Person"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("BusinessEntityId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  Person"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("PersonType"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  Person"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("PersonName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  HomeAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("AddressLine1\tHomeAddressLine1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  HomeAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("AddressLine2\tHomeAddressLine2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  HomeAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("City\t\t\tHomeCity"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  ShippingAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("AddressLine1\tShippingAddressLine1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  ShippingAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("AddressLine2\tShippingAddressLine2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  ShippingAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("City\t\t\tShippingCity\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Person "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("COLUMNS")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("BusinessEntityId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("PersonType"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("LastName PersonName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" FILTER "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("PersonType"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'IN'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LEFT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("BusinessEntityAddress FILTER "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("AddressTypeId"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" BEHomeAddress "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("using")]),s._v(" BusinessEntityId\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LEFT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("BusinessEntityAddress FILTER "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("AddressTypeId"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" BEShippingAddress "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("using")]),s._v(" BusinessEntityId\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LEFT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Address HomeAddress "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("using")]),s._v(" BEHomeAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("AddressId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LEFT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Address ShippingAddress "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("using")]),s._v(" BEShippingAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("AddressId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])])]),s._v(" "),t("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-16",modifiers:{"modal-16":!0}}],staticClass:"float-right btn",staticStyle:{"background-color":"#3eaf7c"},attrs:{size:"sm"}},[s._v("Ver SQL compilado")]),s._v(" "),t("b-modal",{attrs:{id:"modal-16",size:"lg",title:"Ver SQL compilado","hide-footer":!0}},[t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n  Person"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("BusinessEntityId "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" BusinessEntityId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  Person"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("PersonType "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" PersonType"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  Person"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("PersonName "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" PersonName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  HomeAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("AddressLine1 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" HomeAddressLine1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  HomeAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("AddressLine2 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" HomeAddressLine2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  HomeAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("City "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" HomeCity"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  ShippingAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("AddressLine1 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" ShippingAddressLine1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  ShippingAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("AddressLine2 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" ShippingAddressLine2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  ShippingAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("City "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" ShippingCity\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" BusinessEntityId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" PersonType"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" LastName "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" PersonName "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Person "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" PersonType"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'IN'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" Person\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LEFT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("BusinessEntityAddress "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" AddressTypeId"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" BEHomeAddress "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Person"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("BusinessEntityId"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("BEHomeAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("BusinessEntityId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LEFT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("BusinessEntityAddress "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" AddressTypeId"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" BEShippingAddress "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Person"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("BusinessEntityId"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("BEShippingAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("BusinessEntityId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LEFT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Address HomeAddress "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("BEHomeAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("AddressId"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("HomeAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("AddressId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LEFT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Address ShippingAddress "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("BEShippingAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("AddressId"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("ShippingAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("AddressId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n")])])])])],1)]),s._v(" "),t("h2",{attrs:{id:"anti-join"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#anti-join"}},[s._v("#")]),s._v(" ANTI JOIN")]),s._v(" "),t("p",[s._v("El lenguaje "),t("strong",[s._v("Crono SQL")]),s._v(" soporta todos los "),t("em",[s._v("joins")]),s._v(" habituales:")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("INNER JOIN")])]),s._v(" "),t("li",[t("strong",[s._v("LEFT JOIN")])]),s._v(" "),t("li",[t("strong",[s._v("RIGHT JOIN")])]),s._v(" "),t("li",[t("strong",[s._v("FULL JOIN")])]),s._v(" "),t("li",[t("strong",[s._v("CROSS JOIN")]),s._v(" (también "),t("strong",[s._v("CROSS APPLY")]),s._v(")")])]),s._v(" "),t("p",[s._v("Además, implementa el "),t("strong",[s._v("ANTI JOIN")]),s._v(". Un "),t("strong",[s._v("ANTI JOIN")]),s._v(" devuelve todos los registros de la izquierda que no aparecen en la parte derecha de la relación. Para ello, el SQL generado incluye un predicado "),t("strong",[s._v("NOT EXISTS IN (…)")])]),s._v(" "),t("p",[s._v("La  siguiente consulta devuelve todos los clientes que no tienen ninguna venta.  Puede ampliar la información sobre los "),t("strong",[s._v("ANTI JOIN")]),s._v(" en "),t("a",{attrs:{href:"http://daleburnett.com/2011/10/semi-joins-and-anti-joins/",target:"_blank",rel:"noopener noreferrer"}},[s._v("el blog de SQL Server de Dale Burnett"),t("OutboundLink")],1),s._v(".")]),s._v(" "),t("div",{staticClass:"mt-1 mb-2 row"},[t("div",{staticClass:"col-lg-12"},[t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("customer \nANTI "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("SalesOrderHeader sales "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("using")]),s._v(" customerId\n")])])]),s._v(" "),t("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-17",modifiers:{"modal-17":!0}}],staticClass:"float-right btn",staticStyle:{"background-color":"#3eaf7c"},attrs:{size:"sm"}},[s._v("Ver SQL compilado")]),s._v(" "),t("b-modal",{attrs:{id:"modal-17",size:"lg",title:"Ver SQL compilado","hide-footer":!0}},[t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("customer\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("NOT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("EXISTS")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("SalesOrderHeader sales "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("customerId"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("customerId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n")])])])])],1)]),s._v(" "),t("p",[s._v("El "),t("strong",[s._v("ANTI JOIN")]),s._v(" se puede combinar con el resto de características del lenguaje.")]),s._v(" "),t("p",[s._v("Esta consulta devuelve todos las personas que no tienen Home Address.")]),s._v(" "),t("div",{staticClass:"mt-1 mb-2 row"},[t("div",{staticClass:"col-lg-12"},[t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Person\nANTI "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("BusinessEntityAddress FILTER "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("AddressTypeId"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" BEHomeAddress "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("using")]),s._v(" BusinessEntityId\n")])])]),s._v(" "),t("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-18",modifiers:{"modal-18":!0}}],staticClass:"float-right btn",staticStyle:{"background-color":"#3eaf7c"},attrs:{size:"sm"}},[s._v("Ver SQL compilado")]),s._v(" "),t("b-modal",{attrs:{id:"modal-18",size:"lg",title:"Ver SQL compilado","hide-footer":!0}},[t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Person\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("NOT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("EXISTS")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("BusinessEntityAddress "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" AddressTypeId"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" BEHomeAddress "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" Person"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("BusinessEntityId"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("BEHomeAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("BusinessEntityId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n")])])])])],1)]),s._v(" "),t("h2",{attrs:{id:"semi-join"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#semi-join"}},[s._v("#")]),s._v(" SEMI JOIN")]),s._v(" "),t("p",[s._v("El lenguaje "),t("strong",[s._v("Crono SQL")]),s._v(" implementa también la relación "),t("strong",[s._v("SEMI JOIN")]),s._v(". Un "),t("strong",[s._v("SEMI JOIN")]),s._v(" devuelve todos los registros de la izquierda que aparecen en la parte derecha de la relación. Para ello, el SQL generado incluye un predicado "),t("strong",[s._v("EXISTS IN (…)")]),s._v(", por lo que a diferencia del "),t("strong",[s._v("INNER JOIN")]),s._v(" no duplica los registros en el resultado.")]),s._v(" "),t("p",[s._v("Esta consulta devuelve todos los clientes que tienen alguna venta (sin duplicados). Puede ampliar la información sobre los "),t("strong",[s._v("SEMI JOIN")]),s._v(" en "),t("a",{attrs:{href:"http://daleburnett.com/2011/10/semi-joins-and-anti-joins/",target:"_blank",rel:"noopener noreferrer"}},[s._v("el blog de SQL Server de Dale Burnett"),t("OutboundLink")],1),s._v(".")]),s._v(" "),t("div",{staticClass:"mt-1 mb-2 row"},[t("div",{staticClass:"col-lg-12"},[t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("customer \nSEMI "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("SalesOrderHeader sales "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("using")]),s._v(" customerId\n")])])]),s._v(" "),t("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-19",modifiers:{"modal-19":!0}}],staticClass:"float-right btn",staticStyle:{"background-color":"#3eaf7c"},attrs:{size:"sm"}},[s._v("Ver SQL compilado")]),s._v(" "),t("b-modal",{attrs:{id:"modal-19",size:"lg",title:"Ver SQL compilado","hide-footer":!0}},[t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("customer\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("EXISTS")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("SalesOrderHeader sales "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("customerId"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("customerId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n")])])])])],1)]),s._v(" "),t("h2",{attrs:{id:"unpivot"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#unpivot"}},[s._v("#")]),s._v(" UNPIVOT")]),s._v(" "),t("p",[s._v("Se puede utilizar el operador "),t("strong",[s._v("UNPIVOT")]),s._v(" (según la "),t("a",{attrs:{href:"https://technet.microsoft.com/es-es/library/ms177410(v=sql.105).aspx",target:"_blank",rel:"noopener noreferrer"}},[s._v("sintaxis de T-SQL"),t("OutboundLink")],1),s._v(") para despivotar las columnas de una tabla.")]),s._v(" "),t("p",[s._v("En este ejemplo, las columna "),t("em",[s._v("“AddressLine1”")]),s._v("  y "),t("em",[s._v("“AddressLine2”")]),s._v(" se han convertido en filas diferenciadas, duplicándose los registros.")]),s._v(" "),t("div",{staticClass:"mt-1 mb-2 row"},[t("div",{staticClass:"col-lg-12"},[t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n  AddressId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  AddressItem"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  content\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Address\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("UNPIVOT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("content "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FOR")]),s._v(" AddressItem "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("in")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("AddressLine1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("AddressLine2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" unpvt\n")])])]),s._v(" "),t("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-20",modifiers:{"modal-20":!0}}],staticClass:"float-right btn",staticStyle:{"background-color":"#3eaf7c"},attrs:{size:"sm"}},[s._v("Ver SQL compilado")]),s._v(" "),t("b-modal",{attrs:{id:"modal-20",size:"lg",title:"Ver SQL compilado","hide-footer":!0}},[t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n  AddressId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  AddressItem"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  content\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Address\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("UNPIVOT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("content "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FOR")]),s._v(" AddressItem "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("IN")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("AddressLine1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("AddressLine2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" unpvt\n\n")])])])])],1)]),s._v(" "),t("h2",{attrs:{id:"order-by"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#order-by"}},[s._v("#")]),s._v(" ORDER BY")]),s._v(" "),t("p",[s._v("Se puede utilizar la cláusula "),t("strong",[s._v("ORDER BY")]),s._v(" para forzar la ordenación del resultado.")]),s._v(" "),t("div",{staticClass:"mt-1 mb-2 row"},[t("div",{staticClass:"col-lg-12"},[t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("year")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("OrderDate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" OrderYear"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("month")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("OrderDate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" OrderMonth"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sum")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("subtotal"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" Amount\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("SalesOrderHeader sales\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ORDER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" OrderYear"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" OrderMonth\n")])])]),s._v(" "),t("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-21",modifiers:{"modal-21":!0}}],staticClass:"float-right btn",staticStyle:{"background-color":"#3eaf7c"},attrs:{size:"sm"}},[s._v("Ver SQL compilado")]),s._v(" "),t("b-modal",{attrs:{id:"modal-21",size:"lg",title:"Ver SQL compilado","hide-footer":!0}},[t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("year")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("OrderDate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" OrderYear"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("month")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("OrderDate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" OrderMonth"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sum")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("subtotal"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" Amount\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("SalesOrderHeader sales\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GROUP")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("year")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("OrderDate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("month")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("OrderDate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ORDER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("year")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("OrderDate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("month")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("OrderDate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n")])])])])],1)]),s._v(" "),t("p",[s._v("El "),t("strong",[s._v("ORDER BY")]),s._v(" se puede escribir haciendo referencia a la posición de las columnas.")]),s._v(" "),t("div",{staticClass:"mt-1 mb-2 row"},[t("div",{staticClass:"col-lg-12"},[t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("year")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("OrderDate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" OrderYear"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("month")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("OrderDate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" OrderMonth"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sum")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("subtotal"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" Amount\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("SalesOrderHeader sales\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ORDER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n")])])]),s._v(" "),t("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-22",modifiers:{"modal-22":!0}}],staticClass:"float-right btn",staticStyle:{"background-color":"#3eaf7c"},attrs:{size:"sm"}},[s._v("Ver SQL compilado")]),s._v(" "),t("b-modal",{attrs:{id:"modal-22",size:"lg",title:"Ver SQL compilado","hide-footer":!0}},[t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("year")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("OrderDate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" OrderYear"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("month")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("OrderDate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" OrderMonth"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sum")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("subtotal"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" Amount\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("SalesOrderHeader sales\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GROUP")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("year")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("OrderDate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("month")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("OrderDate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ORDER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n\n")])])])])],1)]),s._v(" "),t("h2",{attrs:{id:"select-distinct"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#select-distinct"}},[s._v("#")]),s._v(" SELECT DISTINCT")]),s._v(" "),t("p",[s._v("Se puede utilizar la palabra clave "),t("strong",[s._v("DISTINCT")]),s._v(" para obtener los valores distintos")]),s._v(" "),t("div",{staticClass:"mt-1 mb-2 row"},[t("div",{staticClass:"col-lg-12"},[t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DISTINCT")]),s._v(" FirstName\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Person\n")])])]),s._v(" "),t("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-23",modifiers:{"modal-23":!0}}],staticClass:"float-right btn",staticStyle:{"background-color":"#3eaf7c"},attrs:{size:"sm"}},[s._v("Ver SQL compilado")]),s._v(" "),t("b-modal",{attrs:{id:"modal-23",size:"lg",title:"Ver SQL compilado","hide-footer":!0}},[t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DISTINCT")]),s._v(" FirstName\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Person\n\n")])])])])],1)]),s._v(" "),t("h2",{attrs:{id:"select-top"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#select-top"}},[s._v("#")]),s._v(" SELECT TOP")]),s._v(" "),t("p",[s._v("Se puede utilizar la palabra clave "),t("strong",[s._v("TOP")]),s._v(" para limitar el número de registros del resultado.")]),s._v(" "),t("p",[s._v("Esta consulta devuelve los 5 clientes con mayores ventas.")]),s._v(" "),t("div",{staticClass:"mt-1 mb-2 row"},[t("div",{staticClass:"col-lg-12"},[t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TOP")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("\n  SalesTerritory"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Name Territory"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("CustomerId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FirstName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sum")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("subtotal"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" Amount\t\t\t \n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("SalesOrderHeader sales\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INNER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("customer "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("USING")]),s._v(" sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("customerId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INNER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("SalesTerritory "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("USING")]),s._v(" TerritoryId\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LEFT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Person CustomerPerson "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("USING")]),s._v(" Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("PersonID BusinessEntityId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ORDER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" Amount "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DESC")]),s._v("\n")])])]),s._v(" "),t("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-24",modifiers:{"modal-24":!0}}],staticClass:"float-right btn",staticStyle:{"background-color":"#3eaf7c"},attrs:{size:"sm"}},[s._v("Ver SQL compilado")]),s._v(" "),t("b-modal",{attrs:{id:"modal-24",size:"lg",title:"Ver SQL compilado","hide-footer":!0}},[t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TOP")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("\n  SalesTerritory"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Name "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" Territory"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("CustomerId "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" CustomerId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FirstName "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" FirstName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" LastName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sum")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("subtotal"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" Amount\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("SalesOrderHeader sales\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INNER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("customer "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("customerId"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("customerId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INNER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("SalesTerritory "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("TerritoryId"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("SalesTerritory"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("TerritoryId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LEFT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Person CustomerPerson "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("PersonID"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("BusinessEntityId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GROUP")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v("\n  SalesTerritory"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("CustomerId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FirstName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ORDER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sum")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("subtotal"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DESC")]),s._v("\n\n")])])])])],1)]),s._v(" "),t("h2",{attrs:{id:"over"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#over"}},[s._v("#")]),s._v(" OVER ()")]),s._v(" "),t("p",[s._v("Las funciones de ventana "),t("strong",[s._v("OVER (…)")]),s._v(" también están soportadas.")]),s._v(" "),t("p",[s._v("Esta consulta devuelve las ventas acumuladas desde el principio de cada año. La funciones de ventana, también llamadas funciones analíticas, tienen mucha utilidad en entornos ETL/DWH y permiten simplificar el desarrollo de muchos escenarios ETL comunes.  Puede ampliar la información sobre las funciones de ventana en la documentación de la "),t("a",{attrs:{href:"https://msdn.microsoft.com/es-es/library/ms189461.aspx",target:"_blank",rel:"noopener noreferrer"}},[s._v("cláusula "),t("strong",[s._v("OVER")]),s._v(" en T-SQL"),t("OutboundLink")],1),s._v(".")]),s._v(" "),t("div",{staticClass:"mt-1 mb-2 row"},[t("div",{staticClass:"col-lg-12"},[t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("year")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("OrderDate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" OrderYear"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("month")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("OrderDate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" OrderMonth"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sum")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("subtotal"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" Amount"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sum")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Amount"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("over")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("partition")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" OrderYear "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("order")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" OrderMonth"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  AmountYTD\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("SalesOrderHeader sales\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ORDER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" OrderYear"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" OrderMonth\n")])])]),s._v(" "),t("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-25",modifiers:{"modal-25":!0}}],staticClass:"float-right btn",staticStyle:{"background-color":"#3eaf7c"},attrs:{size:"sm"}},[s._v("Ver SQL compilado")]),s._v(" "),t("b-modal",{attrs:{id:"modal-25",size:"lg",title:"Ver SQL compilado","hide-footer":!0}},[t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("year")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("OrderDate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" OrderYear"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("month")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("OrderDate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" OrderMonth"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sum")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("subtotal"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" Amount"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sum")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sum")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("subtotal"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("OVER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("PARTITION")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("year")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("OrderDate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ORDER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("month")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("OrderDate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" AmountYTD\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("SalesOrderHeader sales\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GROUP")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("year")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("OrderDate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("month")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("OrderDate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ORDER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("year")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("OrderDate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("month")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("OrderDate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n")])])])])],1)]),s._v(" "),t("h2",{attrs:{id:"top-over"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#top-over"}},[s._v("#")]),s._v(" TOP OVER ()")]),s._v(" "),t("p",[s._v("Se puede incluir la cláusula "),t("strong",[s._v("OVER")]),s._v(" junto a la palabra clave "),t("strong",[s._v("TOP")]),s._v(" para limitar el número de registros por grupos de registros.")]),s._v(" "),t("p",[s._v("Esta consulta devuelve los tres clientes con más ventas en cada territorio.")]),s._v(" "),t("div",{staticClass:"mt-1 mb-2 row"},[t("div",{staticClass:"col-lg-12"},[t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TOP")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("OVER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("PARTITION")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" Territory "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ORDER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" Amount "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DESC")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  \n  SalesTerritory"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Name Territory"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("CustomerId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FirstName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sum")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("subtotal"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" Amount\t\t\t \n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("SalesOrderHeader sales\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INNER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("customer "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("USING")]),s._v(" sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("customerId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INNER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("SalesTerritory "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("USING")]),s._v(" TerritoryId\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INNER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Person CustomerPerson "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("USING")]),s._v(" Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("PersonID BusinessEntityId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])])]),s._v(" "),t("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-26",modifiers:{"modal-26":!0}}],staticClass:"float-right btn",staticStyle:{"background-color":"#3eaf7c"},attrs:{size:"sm"}},[s._v("Ver SQL compilado")]),s._v(" "),t("b-modal",{attrs:{id:"modal-26",size:"lg",title:"Ver SQL compilado","hide-footer":!0}},[t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n  Territory"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  CustomerId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  FirstName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  LastName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  Amount\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n      Territory"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      CustomerId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      FirstName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      LastName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      Amount"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      ROW_NUMBER"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("OVER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("PARTITION")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" Territory "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ORDER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" Amount "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DESC")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" rownumber\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n          SalesTerritory"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Name "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" Territory"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n          Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("CustomerId "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" CustomerId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n          CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FirstName "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" FirstName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n          CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" LastName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sum")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("subtotal"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" Amount\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("SalesOrderHeader sales\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INNER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("customer "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("customerId"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("customerId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INNER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("SalesTerritory "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("TerritoryId"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("SalesTerritory"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("TerritoryId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INNER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Person CustomerPerson "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("PersonID"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("BusinessEntityId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GROUP")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v("\n          SalesTerritory"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n          Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("CustomerId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n          CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FirstName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n          CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" allRows\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" allRowsNumbered\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" rownumber"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\n\n")])])])])],1)]),s._v(" "),t("p",[s._v("La combinación "),t("strong",[s._v("TOP n OVER ()")]),s._v(" tiene muchos usos en procesos ETL/DWH. La sentencia SQL generada es un consulta sobre una subconsulta de una subconsulta. La siguiente consulta devuelve la última venta de cada cliente.")]),s._v(" "),t("div",{staticClass:"mt-1 mb-2 row"},[t("div",{staticClass:"col-lg-12"},[t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TOP")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("OVER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("PARTITION")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" customerId "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ORDER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" orderDate "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("desc")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("CustomerId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FirstName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  SalesOrderHeader"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("OrderDate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  SalesOrderHeader"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("subtotal Amount\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("SalesOrderHeader \n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INNER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Customer "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("USING")]),s._v(" customerId\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INNER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Person CustomerPerson "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("USING")]),s._v(" Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("PersonID BusinessEntityId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])])]),s._v(" "),t("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-27",modifiers:{"modal-27":!0}}],staticClass:"float-right btn",staticStyle:{"background-color":"#3eaf7c"},attrs:{size:"sm"}},[s._v("Ver SQL compilado")]),s._v(" "),t("b-modal",{attrs:{id:"modal-27",size:"lg",title:"Ver SQL compilado","hide-footer":!0}},[t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n  CustomerId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  FirstName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  LastName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  OrderDate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  Amount\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n      CustomerId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      FirstName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      LastName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      OrderDate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      Amount"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      ROW_NUMBER"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("OVER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("PARTITION")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" CustomerId "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ORDER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" OrderDate "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DESC")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" rownumber\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n          Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("CustomerId "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" CustomerId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n          CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FirstName "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" FirstName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n          CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" LastName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n          SalesOrderHeader"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("OrderDate "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" OrderDate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n          SalesOrderHeader"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("subtotal "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" Amount\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("SalesOrderHeader\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INNER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Customer "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("SalesOrderHeader"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("customerId"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("customerId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INNER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Person CustomerPerson "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("PersonID"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("BusinessEntityId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" allRows\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" allRowsNumbered\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" rownumber"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n\n")])])])])],1)]),s._v(" "),t("h2",{attrs:{id:"with"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#with"}},[s._v("#")]),s._v(" WITH")]),s._v(" "),t("p",[s._v("Las "),t("a",{attrs:{href:"https://msdn.microsoft.com/es-es/library/ms175972.aspx",target:"_blank",rel:"noopener noreferrer"}},[s._v("sentencias CTE"),t("OutboundLink")],1),s._v(" con cláusula "),t("strong",[s._v("WITH")]),s._v(" están soportadas.")]),s._v(" "),t("div",{staticClass:"mt-1 mb-2 row"},[t("div",{staticClass:"col-lg-12"},[t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WITH")]),s._v(" addresses "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" bia"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("BusinessEntityID"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("bia"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("AddressTypeId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("CountryRegion"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Name Region"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("Address"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("AddressLine1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("Address"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("City\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("BusinessEntityAddress bia\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INNER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Address "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("using")]),s._v(" AddressId\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INNER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("StateProvince "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("USING")]),s._v(" Address"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("StateProvinceId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INNER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("CountryRegion "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("USING")]),s._v(" StateProvince"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CountryRegionCode"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" \n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" \n  Person"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FirstName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  Person"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  HomeAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("AddressLine1 HomeAddressLine1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  HomeAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("City HomeCity"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  HomeAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Region HomeRegion"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  ShippingAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("AddressLine1 ShippingAddressLine1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  ShippingAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("City ShippingCity "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  ShippingAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Region ShippingRegion "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Person \n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LEFT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" addresses FILTER "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("AddressTypeId"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" HomeAddress "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("USING")]),s._v(" BusinessEntityID\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LEFT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" addresses FILTER "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("AddressTypeId"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" ShippingAddress "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("USING")]),s._v(" BusinessEntityID\n")])])]),s._v(" "),t("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-28",modifiers:{"modal-28":!0}}],staticClass:"float-right btn",staticStyle:{"background-color":"#3eaf7c"},attrs:{size:"sm"}},[s._v("Ver SQL compilado")]),s._v(" "),t("b-modal",{attrs:{id:"modal-28",size:"lg",title:"Ver SQL compilado","hide-footer":!0}},[t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WITH")]),s._v("\naddresses "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n    bia"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("BusinessEntityID "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" BusinessEntityID"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    bia"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("AddressTypeId "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" AddressTypeId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    CountryRegion"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Name "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" Region"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    Address"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("AddressLine1 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" AddressLine1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    Address"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("City "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" City\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("BusinessEntityAddress bia\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INNER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Address "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("bia"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("AddressId"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("Address"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("AddressId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INNER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("StateProvince "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Address"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("StateProvinceId"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("StateProvince"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("StateProvinceId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INNER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("CountryRegion "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("StateProvince"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("CountryRegionCode"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("CountryRegion"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("CountryRegionCode"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n  Person"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FirstName "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" FirstName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  Person"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" LastName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  HomeAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("AddressLine1 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" HomeAddressLine1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  HomeAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("City "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" HomeCity"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  HomeAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Region "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" HomeRegion"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  ShippingAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("AddressLine1 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" ShippingAddressLine1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  ShippingAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("City "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" ShippingCity"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  ShippingAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Region "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" ShippingRegion\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Person\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LEFT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" addresses "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" AddressTypeId"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" HomeAddress "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Person"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("BusinessEntityID"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("HomeAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("BusinessEntityID"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LEFT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" addresses "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" AddressTypeId"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" ShippingAddress "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Person"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("BusinessEntityID"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("ShippingAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("BusinessEntityID"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n")])])])])],1)]),s._v(" "),t("h2",{attrs:{id:"union-y-union-all"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#union-y-union-all"}},[s._v("#")]),s._v(" UNION y UNION ALL")]),s._v(" "),t("p",[s._v("Se pueden utilizar los operadores "),t("strong",[s._v("UNION")]),s._v(" y "),t("strong",[s._v("UNION ALL")])]),s._v(" "),t("p",[s._v("Este ejemplo tiene únicamente fines didácticos. Para combinar de este modo dos o más consultas es preferible el operador "),t("strong",[s._v("COMBINE")]),s._v(" que se muestra continuación.")]),s._v(" "),t("div",{staticClass:"mt-1 mb-2 row"},[t("div",{staticClass:"col-lg-12"},[t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n  CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" LastName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sum")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("subtotal"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" Amount2012"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("null")]),s._v(" Amount2013\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("SalesOrderHeader sales\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INNER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("customer "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("customerId"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("customerId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LEFT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Person CustomerPerson "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("PersonID"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("BusinessEntityId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("year")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("OrderDate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2012")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("UNION")]),s._v(" \n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n    CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" LastName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("null")]),s._v(" Amount2012"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sum")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("subtotal"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" Amount2013\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("SalesOrderHeader sales\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INNER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("customer "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("customerId"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("customerId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LEFT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Person CustomerPerson "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("PersonID"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("BusinessEntityId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("year")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("OrderDate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2013")]),s._v("\n")])])]),s._v(" "),t("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-29",modifiers:{"modal-29":!0}}],staticClass:"float-right btn",staticStyle:{"background-color":"#3eaf7c"},attrs:{size:"sm"}},[s._v("Ver SQL compilado")]),s._v(" "),t("b-modal",{attrs:{id:"modal-29",size:"lg",title:"Ver SQL compilado","hide-footer":!0}},[t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n  CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" LastName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sum")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("subtotal"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" Amount2012"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" Amount2013\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("SalesOrderHeader sales\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INNER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("customer "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("customerId"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("customerId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LEFT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Person CustomerPerson "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("PersonID"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("BusinessEntityId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("year")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("OrderDate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2012")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GROUP")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("UNION")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n  CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" LastName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" Amount2012"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sum")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("subtotal"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" Amount2013\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("SalesOrderHeader sales\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INNER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("customer "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("customerId"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("customerId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LEFT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Person CustomerPerson "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("PersonID"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("BusinessEntityId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("year")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("OrderDate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2013")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GROUP")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName\n\n")])])])])],1)]),s._v(" "),t("h2",{attrs:{id:"combine"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#combine"}},[s._v("#")]),s._v(" COMBINE")]),s._v(" "),t("p",[s._v("El operador "),t("strong",[s._v("COMBINE BY")]),s._v(" permite combinar dos o más consultas en un único resultado.")]),s._v(" "),t("div",{staticClass:"mt-1 mb-2 row"},[t("div",{staticClass:"col-lg-12"},[t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[s._v("COMBINE "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" firstname"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("LastName\n  sales2012 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n      Person"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FirstName "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" FirstName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      Person"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" LastName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sum")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("subtotal"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" Amount2012\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("SalesOrderHeader sales\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INNER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("customer "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("USING")]),s._v(" customerId\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LEFT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Person "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("USING")]),s._v(" Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("PersonID BusinessEntityId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("year")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("OrderDate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2012")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  sales2013 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v(" \n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n      Person"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FirstName "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" FirstName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      Person"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" LastName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sum")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("subtotal"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" Amount2013\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("SalesOrderHeader sales\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INNER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("customer "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("USING")]),s._v(" customerId\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LEFT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Person "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("USING")]),s._v(" Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("PersonID BusinessEntityId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("year")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("OrderDate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2013")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])])]),s._v(" "),t("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-30",modifiers:{"modal-30":!0}}],staticClass:"float-right btn",staticStyle:{"background-color":"#3eaf7c"},attrs:{size:"sm"}},[s._v("Ver SQL compilado")]),s._v(" "),t("b-modal",{attrs:{id:"modal-30",size:"lg",title:"Ver SQL compilado","hide-footer":!0}},[t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("coalesce")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales2012"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FirstName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("sales2013"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FirstName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" FirstName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("coalesce")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales2012"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("sales2013"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" LastName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  sales2012"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Amount2012 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" Amount2012"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  sales2013"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Amount2013 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" Amount2013\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" \n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n      Person"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FirstName "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" FirstName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      Person"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" LastName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sum")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("subtotal"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" Amount2012\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("SalesOrderHeader sales\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INNER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("customer "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("customerId"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("customerId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LEFT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Person "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("PersonID"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("Person"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("BusinessEntityId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("year")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("OrderDate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2012")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GROUP")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v("\n      Person"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FirstName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      Person"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" sales2012\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FULL")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" \n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n      Person"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FirstName "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" FirstName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      Person"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" LastName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sum")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("subtotal"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" Amount2013\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("SalesOrderHeader sales\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INNER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("customer "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("customerId"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("customerId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LEFT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Person "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("PersonID"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("Person"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("BusinessEntityId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("year")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("OrderDate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2013")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GROUP")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v("\n      Person"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FirstName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      Person"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" sales2013 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales2012"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FirstName"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("sales2013"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FirstName "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("AND")]),s._v(" sales2012"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("sales2013"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n")])])])])],1)]),s._v(" "),t("p",[s._v("Se pueden utilizar tablas distintas en cada consulta del "),t("strong",[s._v("COMBINE")]),s._v(". En este ejemplo, se comparan las ventas y las compras por producto. El SQL generado combinará los resultados utilizando un "),t("strong",[s._v("FULL JOIN")]),s._v(".")]),s._v(" "),t("div",{staticClass:"mt-1 mb-2 row"},[t("div",{staticClass:"col-lg-12"},[t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[s._v("COMBINE "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" Product"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("ProductNumber\n  sales "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" \n\t  Product"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Name Product"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t  Product"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ProductNumber ProductNumber"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sum")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("PurchaseOrderDetail"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LineTotal"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" Purchases\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("PurchaseOrderDetail\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("inner")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("join")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Product  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("using")]),s._v(" ProductId\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  purchases "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" \n\t  Product"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Name "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#Product,")]),s._v("\n\t  Product"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ProductNumber "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#ProductNumber,")]),s._v("\n\t  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sum")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("SalesOrderDetail"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LineTotal"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" Sales\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("SalesOrderDetail\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("inner")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("join")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Product  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("using")]),s._v(" ProductId\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])])]),s._v(" "),t("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-31",modifiers:{"modal-31":!0}}],staticClass:"float-right btn",staticStyle:{"background-color":"#3eaf7c"},attrs:{size:"sm"}},[s._v("Ver SQL compilado")]),s._v(" "),t("b-modal",{attrs:{id:"modal-31",size:"lg",title:"Ver SQL compilado","hide-footer":!0}},[t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("coalesce")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Product"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("purchases"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Product"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" Product"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("coalesce")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ProductNumber"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("purchases"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ProductNumber"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" ProductNumber"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Purchases "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" Purchases"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  purchases"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Sales "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" Sales\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" \n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n      Product"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Name "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" Product"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      Product"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ProductNumber "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" ProductNumber"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sum")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("PurchaseOrderDetail"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LineTotal"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" Purchases\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("PurchaseOrderDetail\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INNER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Product "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("PurchaseOrderDetail"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ProductId"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("Product"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ProductId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GROUP")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v("\n      Product"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      Product"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ProductNumber"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" sales\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FULL")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" \n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n      Product"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Name "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" Product"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      Product"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ProductNumber "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" ProductNumber"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sum")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("SalesOrderDetail"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LineTotal"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" Sales\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("SalesOrderDetail\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INNER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Product "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("SalesOrderDetail"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ProductId"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("Product"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ProductId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GROUP")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v("\n      Product"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      Product"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ProductNumber"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" purchases "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Product"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("purchases"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Product "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("AND")]),s._v(" sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ProductNumber"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("purchases"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ProductNumber"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n")])])])])],1)]),s._v(" "),t("h2",{attrs:{id:"materialize"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#materialize"}},[s._v("#")]),s._v(" MATERIALIZE")]),s._v(" "),t("p",[s._v("La cláusula "),t("strong",[s._v("MATERIALIZE")]),s._v(" permite crear una tabla temporal con el contenido de una subconsulta. Es decir, antes de la ejecución de la consulta, se crean las tablas temporales necesarias y finalmente se ejecuta la consulta utilizando dichas tablas. Esta estrategia de carga simplifica el plan de ejecución del motor de base de datos y se pueden obtener mejoras de rendimiento muy significativas, sin penalizar o dificultar la escritura de la consulta.")]),s._v(" "),t("div",{staticClass:"mt-1 mb-2 row"},[t("div",{staticClass:"col-lg-12"},[t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n  SalesOrderHeader"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("OrderDate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  Product"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Name Product"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  Product"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ProductNumber"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sum")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LineTotal"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" Sales\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("SalesOrderDetail FILTER "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("year")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("ModifiedDate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2014")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" MATERIALIZE Sales\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INNER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("SalesOrderHeader "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("USING")]),s._v(" SalesOrderId\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INNER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Product "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("USING")]),s._v(" ProductId\n")])])]),s._v(" "),t("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-32",modifiers:{"modal-32":!0}}],staticClass:"float-right btn",staticStyle:{"background-color":"#3eaf7c"},attrs:{size:"sm"}},[s._v("Ver SQL compilado")]),s._v(" "),t("b-modal",{attrs:{id:"modal-32",size:"lg",title:"Ver SQL compilado","hide-footer":!0}},[t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- Materialized query: Sales")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#Sales__39872")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("SalesOrderDetail "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("year")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("ModifiedDate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2014")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" SalesOrderDetail\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n  SalesOrderHeader"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("OrderDate "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" OrderDate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  Product"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Name "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" Product"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  Product"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ProductNumber "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" ProductNumber"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sum")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LineTotal"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" Sales\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#Sales__39872 Sales")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INNER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("SalesOrderHeader "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("SalesOrderId"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("SalesOrderHeader"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("SalesOrderId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INNER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Product "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ProductId"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("Product"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ProductId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GROUP")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v("\n  SalesOrderHeader"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("OrderDate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  Product"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  Product"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ProductNumber\n\n")])])])])],1)]),s._v(" "),t("p",[s._v("Con la cláusula "),t("strong",[s._v("MATERIALIZE")]),s._v(", también se pueden materializar las consultas de una sentencia "),t("strong",[s._v("COMBINE")]),s._v(". En este ejemplo, primero se ejecutará la consulta con las ventas, luego se ejecutará una consulta con las compras, y finalmente se combinarán en un único resultado.")]),s._v(" "),t("div",{staticClass:"mt-1 mb-2 row"},[t("div",{staticClass:"col-lg-12"},[t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[s._v("COMBINE "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("bY")]),s._v(" Product"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("productNumber\n  MATERIALIZE sales "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" \n\t  Product"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Name Product"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t  Product"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ProductNumber ProductNumber"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sum")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("PurchaseOrderDetail"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LineTotal"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" Purchases\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("PurchaseOrderDetail\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("inner")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("join")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Product  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("using")]),s._v(" ProductId\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  MATERIALIZE purchases "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" \n\t  Product"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Name Product"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t  Product"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ProductNumber ProductNumber"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sum")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("SalesOrderDetail"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LineTotal"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" Sales\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("SalesOrderDetail\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("inner")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("join")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Product  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("using")]),s._v(" ProductId\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])])]),s._v(" "),t("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-33",modifiers:{"modal-33":!0}}],staticClass:"float-right btn",staticStyle:{"background-color":"#3eaf7c"},attrs:{size:"sm"}},[s._v("Ver SQL compilado")]),s._v(" "),t("b-modal",{attrs:{id:"modal-33",size:"lg",title:"Ver SQL compilado","hide-footer":!0}},[t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- Materialized query: sales")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n  Product"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Name "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" Product"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  Product"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ProductNumber "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" ProductNumber"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sum")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("PurchaseOrderDetail"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LineTotal"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" Purchases\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#sales__D83E4")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("PurchaseOrderDetail\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INNER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Product "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("PurchaseOrderDetail"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ProductId"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("Product"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ProductId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GROUP")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v("\n  Product"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  Product"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ProductNumber\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- Materialized query: purchases")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n  Product"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Name "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" Product"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  Product"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ProductNumber "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" ProductNumber"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sum")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("SalesOrderDetail"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LineTotal"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" Sales\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#purchases__1CD26")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("SalesOrderDetail\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INNER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Product "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("SalesOrderDetail"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ProductId"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("Product"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ProductId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GROUP")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v("\n  Product"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  Product"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ProductNumber\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("coalesce")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Product"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("purchases"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Product"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" Product"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("coalesce")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ProductNumber"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("purchases"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ProductNumber"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" ProductNumber"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Purchases "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" Purchases"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  purchases"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Sales "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" Sales\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#sales__D83E4 sales")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FULL")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#purchases__1CD26 purchases ON (sales.Product=purchases.Product AND sales.ProductNumber=purchases.ProductNumber)")]),s._v("\n\n")])])])])],1)]),s._v(" "),t("h2",{attrs:{id:"cast-automatico"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#cast-automatico"}},[s._v("#")]),s._v(" CAST automático")]),s._v(" "),t("p",[s._v("Se puede forzar el tipo de datos resultante de una columna especificándolo justo después del alias de la columna. El SQL generado incluirá una llamada a la función "),t("strong",[s._v("CAST")]),s._v(".")]),s._v(" "),t("div",{staticClass:"mt-1 mb-2 row"},[t("div",{staticClass:"col-lg-12"},[t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n   "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("year")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("OrderDate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\tOrderYear "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("varchar")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("CustomerId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  concat"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FirstName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("' '")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  Upper"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" UpperCustomer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FirstName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sum")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("subtotal"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" Amount"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("count")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\t\tTicketsCount"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  Amount"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("TicketsCount AvgTicket "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("numeric")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("SalesOrderHeader sales\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INNER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("customer "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("USING")]),s._v(" CustomerId\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LEFT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Person CustomerPerson "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("USING")]),s._v(" Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("PersonID BusinessEntityId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" OrderYear"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2012")]),s._v("\n")])])]),s._v(" "),t("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-34",modifiers:{"modal-34":!0}}],staticClass:"float-right btn",staticStyle:{"background-color":"#3eaf7c"},attrs:{size:"sm"}},[s._v("Ver SQL compilado")]),s._v(" "),t("b-modal",{attrs:{id:"modal-34",size:"lg",title:"Ver SQL compilado","hide-footer":!0}},[t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n  cast"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("year")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("OrderDate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("varchar")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" OrderYear"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("CustomerId "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" CustomerId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  concat"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FirstName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("' '")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  Upper"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("concat"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FirstName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("' '")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" UpperCustomer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FirstName "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" FirstName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" LastName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sum")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("subtotal"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" Amount"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("count")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" TicketsCount"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  cast"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sum")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("subtotal"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("count")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("numeric")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" AvgTicket\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("SalesOrderHeader sales\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INNER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("customer "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("CustomerId"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("CustomerId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LEFT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Person CustomerPerson "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("PersonID"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("BusinessEntityId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" cast"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("year")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("OrderDate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("varchar")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2012")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GROUP")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("year")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("OrderDate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  Customer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("CustomerId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  concat"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FirstName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("' '")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  Upper"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("concat"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FirstName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("' '")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FirstName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  CustomerPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LastName\n\n")])])])])],1)]),s._v(" "),t("h2",{attrs:{id:"selects-anidados"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#selects-anidados"}},[s._v("#")]),s._v(" SELECTs anidados")]),s._v(" "),t("p",[s._v("Es posible incluir varios "),t("strong",[s._v("SELECT")]),s._v(" en una misma consulta. Esta sintaxis permite escribir rápidamente una consulta sobre el resultado de otra consulta.  Son consultas encadenadas.")]),s._v(" "),t("p",[s._v("Este consulta devuelve la media de las ventas anuales de cada producto.")]),s._v(" "),t("div",{staticClass:"mt-1 mb-2 row"},[t("div",{staticClass:"col-lg-12"},[t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v("\n  Product"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  ProductNumber"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("avg")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" AvgYearSales\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" \n  Product"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Name Product"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  Product"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ProductNumber"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("year")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("OrderDate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" OrderYear"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sum")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("SalesOrderDetail"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LineTotal"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" Sales\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("SalesOrderDetail\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("inner")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("join")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("SalesOrderHeader "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("using")]),s._v(" SalesOrderId\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("inner")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("join")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Product  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("using")]),s._v(" ProductId\n")])])]),s._v(" "),t("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-35",modifiers:{"modal-35":!0}}],staticClass:"float-right btn",staticStyle:{"background-color":"#3eaf7c"},attrs:{size:"sm"}},[s._v("Ver SQL compilado")]),s._v(" "),t("b-modal",{attrs:{id:"modal-35",size:"lg",title:"Ver SQL compilado","hide-footer":!0}},[t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n  Product"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  ProductNumber"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("avg")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Sales"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" AvgYearSales\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n      Product"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Name "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" Product"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      Product"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ProductNumber "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" ProductNumber"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("year")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("OrderDate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" OrderYear"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sum")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("SalesOrderDetail"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LineTotal"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" Sales\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("SalesOrderDetail\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INNER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("SalesOrderHeader "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("SalesOrderDetail"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("SalesOrderId"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("SalesOrderHeader"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("SalesOrderId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INNER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Product "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("SalesOrderDetail"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ProductId"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("Product"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ProductId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GROUP")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v("\n      Product"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      Product"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ProductNumber"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("year")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("OrderDate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" a\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GROUP")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v("\n  Product"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  ProductNumber\n\n")])])])])],1)]),s._v(" "),t("p",[s._v("La cláusulas "),t("strong",[s._v("SELECT")]),s._v(" encadenadas permiten, por ejemplo, contar el número de registros que devuelve una consulta previa. La siguiente consulta ejecuta un "),t("strong",[s._v("count(*)")]),s._v(" sobre el resultado de la consulta inferior.")]),s._v(" "),t("div",{staticClass:"mt-1 mb-2 row"},[t("div",{staticClass:"col-lg-12"},[t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("count")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n  Product"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Name Product"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  Product"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ProductNumber"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sum")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("SalesOrderDetail"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LineTotal"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" Sales\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("SalesOrderDetail\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INNER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Product "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("USING")]),s._v(" ProductId\n")])])]),s._v(" "),t("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-36",modifiers:{"modal-36":!0}}],staticClass:"float-right btn",staticStyle:{"background-color":"#3eaf7c"},attrs:{size:"sm"}},[s._v("Ver SQL compilado")]),s._v(" "),t("b-modal",{attrs:{id:"modal-36",size:"lg",title:"Ver SQL compilado","hide-footer":!0}},[t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("count")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" expr1\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n      Product"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Name "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" Product"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      Product"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ProductNumber "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" ProductNumber"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sum")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("SalesOrderDetail"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LineTotal"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" Sales\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("SalesOrderDetail\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INNER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Product "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("SalesOrderDetail"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ProductId"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("Product"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ProductId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GROUP")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v("\n      Product"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      Product"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ProductNumber\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" a\n\n")])])])])],1)]),s._v(" "),t("h2",{attrs:{id:"resumen"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#resumen"}},[s._v("#")]),s._v(" Resumen")]),s._v(" "),t("p",[s._v("En resumen, si se conoce SQL, ya se conoce la parte más importante de "),t("strong",[s._v("Crono SQL")]),s._v(". "),t("strong",[s._v("Crono SQL")]),s._v(", simplemente, facilita la escritura de SQL y aporta algunas extensiones para necesidades comunes en ETL/DWH. Destacamos:")]),s._v(" "),t("ul",[t("li",[s._v("Posibilidad de referenciar a Alias de columnas de la consulta")]),s._v(" "),t("li",[s._v("No es necesario el "),t("strong",[s._v("GROUP BY")])]),s._v(" "),t("li",[s._v("Sintaxis simplificada de los "),t("strong",[s._v("JOIN")])]),s._v(" "),t("li",[s._v("Sentencia "),t("strong",[s._v("COMBINE")])]),s._v(" "),t("li",[s._v("Cláusula "),t("strong",[s._v("MATERIALIZE")])]),s._v(" "),t("li",[s._v("Cláusula "),t("strong",[s._v("CHECK SNOWFLAKE")])]),s._v(" "),t("li",[s._v("Cláusulas "),t("strong",[s._v("COLUMNS")]),s._v(" y "),t("strong",[s._v("FILTER")]),s._v(" para reducir el número de subconsultas")]),s._v(" "),t("li",[s._v("Cláusula "),t("strong",[s._v("TOP OVER")])]),s._v(" "),t("li",[s._v("Relaciones "),t("strong",[s._v("ANTI JOIN")]),s._v(" y "),t("strong",[s._v("SEMI JOIN")])]),s._v(" "),t("li",[t("strong",[s._v("SELECTs")]),s._v(" anidados")])])])}),[],!1,null,null,null);t.default=e.exports}}]);